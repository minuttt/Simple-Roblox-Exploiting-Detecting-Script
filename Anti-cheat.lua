-- Create a function to check for exploitation
function checkForExploitation(player)
  -- Get the player's character and humanoid
  local character = player.Character
  local humanoid = character:FindFirstChild("Humanoid")
  if not humanoid then return end
  
  -- Check if the player is flying
  if character:FindFirstChild("HumanoidRootPart").Velocity.Y > 0 then
    -- If the player is flying, kick them
    player:Kick("Exploitation detected!")
    return
  end
  
  -- Check if the player is teleporting
  local lastPosition = humanoid.LastPosition
  local currentPosition = humanoid.RootPart.Position
  local distance = (lastPosition - currentPosition).Magnitude
  if distance > 10 then
    -- If the player is teleporting, kick them
    player:Kick("Exploitation detected!")
    return
  end
  
  -- Check if the player is moving when their health is 0
  if humanoid.Health == 0 and (humanoid.MoveDirection.X ~= 0 or humanoid.MoveDirection.Z ~= 0) then
    -- If the player is moving when their health is 0, kick them
    player:Kick("Exploitation detected!")
    return
  end
end

-- Connect the function to the player's character added event
game.Players.PlayerAdded:Connect(function(player)
  player.CharacterAdded:Connect(checkForExploitation)
end)


-- Detect speed hacking in a Roblox game

-- Constants for the maximum speed and acceleration
MAX_SPEED = 20
MAX_ACCELERATION = 30

-- Bind the "Heartbeat" event to a function that checks for speed hacking
game:GetService("RunService").Heartbeat:Connect(function()
  -- Get the current player
  local player = game.Players.LocalPlayer

  -- Check the player's speed and acceleration
  if player.Character and player.Character:FindFirstChild("Humanoid") then
    local humanoid = player.Character.Humanoid
    if humanoid.MaxSpeed > MAX_SPEED or humanoid.MaxAcceleration > MAX_ACCELERATION then
      -- Speed hacking detected
      print("Speed hacking detected for player " .. player.Name)
      player:Kick("Exploit Detected!")
    end
  end
end)
